function updateScore(a){$("#kudo .num").html(a),1==a?$("#kudo .txt").html("Kudo"):$("#kudo .txt").html("Kudos")}String.prototype.hashCode=function(){var a,b,c,d=0;if(0===this.length)return d;for(a=0,c=this.length;c>a;a++)b=this.charCodeAt(a),d=(d<<5)-d+b,d|=0;return""+d},$(function(){Parse.initialize("Az7OeB7BabY5XBztiDmVOZ03MHZl3IlbHGQh028f","CuDMF0OfRu6SmAjri99ltYGcdSIUIybfVoYgPG30");var a=Parse.Object.extend("Kudos"),b=new Parse.Query(a);$(".kudoable").kudoable();var c,d=document.location.pathname.hashCode(),e=$("article").attr("title");b.equalTo("key",d),b.first({success:function(b){c=b,c||(c=new a,c.set("key",d),c.set("title",e),c.set("score",0),c.save());var f=c.get("score");0>=f&&($.removeCookie(d),$(".kudoable").removeClass("complete"),c.set("score",0),f=0),updateScore(f),$.cookie(d)&&($(".kudo").removeClass("animate").addClass("complete").addClass("new"),updateScore(c.get("score"),c))},error:function(b){c=new a,c.set("key",d),c.set("title",e),c.set("score",0),c.save()}}),$(".kudo").bind("kudo:added",function(a){console.log("kudod :)"),$.cookie(d,"true",{expires:28}),c.increment("score"),c.save(null,{success:function(a){updateScore(c.get("score"))}})}),$(".kudo").bind("kudo:removed",function(a){console.log("Unkudod :("),$.removeCookie(d),$(".kudoable").removeClass("new"),c.increment("score",-1),c.save(null,{success:function(a){updateScore(c.get("score"))}})})});