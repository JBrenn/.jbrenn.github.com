<meta name="author" content="Johannes Brenner">

<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="JBrenn - Johannes Brenner's Blog">

{% capture url %}{{ page.url | replace: 'index.html', '' | prepend: site.baseurl | prepend: site.url }}{% endcapture %}
<link rel="canonical" href="{{ url | strip }}">
<meta property="og:url" content="{{ url | strip }}">
<meta property="twitter:url" content="{{ url | strip }}">

{% capture title %}{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}{% endcapture %}
<title>{{ title }} | JBrenn</title>
<meta property="og:title" content="{{ title }}">
<meta property="twitter:title" content="{{ title }}">

{% capture description %}{% if page.description %}{{ page.description }}{% else %}{% if page.content != '' %}{{ page.content | strip_html | strip_newlines | truncate: 200 }}{% else %}{{ page.title }}{% endif %}{% endif %}{% endcapture %}
{% if page.description %}<meta name="description" content="{{ description }}">{% endif %}
<meta property="og:description" content="{{ description }}">
<meta property="twitter:description" content="{{description | strip}}">

<meta name="twitter:card" content="summary">
{% if page.type == 'post' %}
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
    {% if page.tags %}{% for tag in page.tags %}
        <meta property="article:tag" content="{{ tag }}">
    {% endfor %}{% endif %}
{% elsif page.blogindex %}
    <meta property="og:type" content="blog">
{% else %}
    <meta property="og:type" content="website">
{% endif %}

{% if page.image %}
    {% capture image_url %}{{ page.image | prepend: site.baseurl | prepend: site.url }}{% endcapture %}
    <meta property="og:image" content="{{ image_url }}">
    <meta property="twitter:image" content="{{ image_url }}">
{% endif %}
